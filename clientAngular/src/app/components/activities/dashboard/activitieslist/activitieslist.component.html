<div class="card-wrapper">
  <div class="card" *ngFor="let activity of activities">
    <div class="bar">
      <div class="vote">
        <mat-icon
          fontIcon="add"
          class="upvote icon"
          [ngClass]="{ isLogged: user, active: activity.userVote === 'up' }"
          (click)="changeVote('up', activity._id)"
        ></mat-icon>
        <span class="vote-count">{{
          activity.upVotesCount - activity.downVotesCount
        }}</span>
        <mat-icon
          fontIcon="remove"
          class="downvote icon"
          [ngClass]="{ isLogged: user, active: activity.userVote === 'down' }"
          (click)="changeVote('down', activity._id)"
        ></mat-icon>
      </div>
    </div>
    <div class="card-content">
      <div class="header">
        <div class="user">
          <div class="circle">{{ activity.user.nick.substring(0, 1) }}</div>
          <span class="username">{{ activity.user.nick }}</span>
        </div>
        <div class="date">
          <span class="date-text">Doddano {{ activity.dateFormatted }}</span>
        </div>
      </div>
      <div class="card-body">
        <p class="card-text">
          {{ activity.text }}
        </p>
      </div>
      <div class="imageWrapper">
        <img class="card-img-top" src="{{ activity.photo }}" alt="activity" />
      </div>
      <div class="action">
        <mat-icon fontIcon="chat" class="icon"></mat-icon>
        <span class="comment-count">0</span>
      </div>
    </div>
  </div>
</div>
